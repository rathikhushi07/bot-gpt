{
	"info": {
		"_postman_id": "botgpt-backend-api",
		"name": "BOT GPT Backend API",
		"description": "Complete API collection for BOT GPT Conversational AI Backend\n\n**Features:**\n- User Management\n- Open Chat Conversations\n- RAG (Document-Grounded) Conversations\n- Document Management\n- Health Checks\n\n**Setup:**\n1. Start the server: `python3 local_start.py`\n2. Import this collection into Postman\n3. Set the `base_url` variable to `http://localhost:8000`\n4. Run requests in order (use Test Results to auto-save IDs)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health & Info",
			"item": [
				{
					"name": "Root - API Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": ["{{base_url}}"],
							"path": [""]
						},
						"description": "Get API information and status"
					},
					"response": []
				},
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Check API health status, database connection, and LLM provider"
					},
					"response": []
				}
			],
			"description": "Health checks and system information"
		},
		{
			"name": "User Management",
			"item": [
				{
					"name": "Create User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"user_id\", jsonData.id);",
									"    console.log(\"User ID saved: \" + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"alice\",\n  \"email\": \"alice@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "users"]
						},
						"description": "Create a new user. The user ID is automatically saved to collection variables."
					},
					"response": []
				},
				{
					"name": "List All Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/users",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "users"]
						},
						"description": "Get a list of all users"
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/users/{{user_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "users", "{{user_id}}"]
						},
						"description": "Get details of a specific user by ID"
					},
					"response": []
				}
			],
			"description": "User management endpoints"
		},
		{
			"name": "Open Chat",
			"item": [
				{
					"name": "Create Open Chat Conversation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"conversation_id\", jsonData.conversation_id);",
									"    console.log(\"Conversation ID saved: \" + jsonData.conversation_id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"first_message\": \"Hello! Can you tell me about Python programming language?\",\n  \"mode\": \"open_chat\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/conversations",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations"]
						},
						"description": "Start a new open chat conversation with the AI. The conversation ID is automatically saved."
					},
					"response": []
				},
				{
					"name": "Add Message to Conversation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"What are some popular Python frameworks?\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/conversations/{{conversation_id}}/messages",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations", "{{conversation_id}}", "messages"]
						},
						"description": "Add a new message to an existing conversation and get AI response"
					},
					"response": []
				},
				{
					"name": "Get Conversation Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/conversations/{{conversation_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations", "{{conversation_id}}"]
						},
						"description": "Get full conversation history with all messages"
					},
					"response": []
				},
				{
					"name": "List User Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/conversations?user_id={{user_id}}&page=1&page_size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations"],
							"query": [
								{
									"key": "user_id",
									"value": "{{user_id}}"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "page_size",
									"value": "20"
								}
							]
						},
						"description": "Get paginated list of conversations for a user"
					},
					"response": []
				},
				{
					"name": "Delete Conversation",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/conversations/{{conversation_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations", "{{conversation_id}}"]
						},
						"description": "Delete a conversation and all its messages"
					},
					"response": []
				}
			],
			"description": "Open chat conversations (no document context)"
		},
		{
			"name": "Documents",
			"item": [
				{
					"name": "Upload Document",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"document_id\", jsonData.id);",
									"    console.log(\"Document ID saved: \" + jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"filename\": \"python_guide.txt\",\n  \"content\": \"Python is a high-level, interpreted programming language created by Guido van Rossum and first released in 1991. Python emphasizes code readability with its notable use of significant whitespace. It supports multiple programming paradigms including procedural, object-oriented, and functional programming. Python is dynamically typed and garbage-collected. The language is widely used in web development, data science, artificial intelligence, scientific computing, and automation. Popular frameworks include Django and Flask for web development, NumPy and Pandas for data analysis, and TensorFlow and PyTorch for machine learning.\",\n  \"mime_type\": \"text/plain\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/documents",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "documents"]
						},
						"description": "Upload a document for RAG mode. The document is automatically chunked. Document ID is saved automatically."
					},
					"response": []
				},
				{
					"name": "List User Documents",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/documents?user_id={{user_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "documents"],
							"query": [
								{
									"key": "user_id",
									"value": "{{user_id}}"
								}
							]
						},
						"description": "Get list of all documents for a user"
					},
					"response": []
				},
				{
					"name": "Get Document Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/documents/{{document_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "documents", "{{document_id}}"]
						},
						"description": "Get details of a specific document including chunk count"
					},
					"response": []
				},
				{
					"name": "Delete Document",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/documents/{{document_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "documents", "{{document_id}}"]
						},
						"description": "Delete a document and all its chunks"
					},
					"response": []
				}
			],
			"description": "Document management for RAG mode"
		},
		{
			"name": "RAG Conversations",
			"item": [
				{
					"name": "Create RAG Conversation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.collectionVariables.set(\"rag_conversation_id\", jsonData.conversation_id);",
									"    console.log(\"RAG Conversation ID saved: \" + jsonData.conversation_id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"first_message\": \"Who created Python and when was it released?\",\n  \"mode\": \"grounded_rag\",\n  \"document_ids\": [\"{{document_id}}\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/conversations",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations"]
						},
						"description": "Start a RAG conversation with document context. The AI will answer based on document content."
					},
					"response": []
				},
				{
					"name": "Add RAG Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"What programming paradigms does Python support according to the document?\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/conversations/{{rag_conversation_id}}/messages",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations", "{{rag_conversation_id}}", "messages"]
						},
						"description": "Add message to RAG conversation. AI will retrieve relevant chunks and answer."
					},
					"response": []
				},
				{
					"name": "Get RAG Conversation",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/conversations/{{rag_conversation_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations", "{{rag_conversation_id}}"]
						},
						"description": "Get full RAG conversation with document associations"
					},
					"response": []
				}
			],
			"description": "RAG (Document-grounded) conversations"
		},
		{
			"name": "Examples - Advanced",
			"item": [
				{
					"name": "Multi-Document RAG",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"first_message\": \"Compare the information from all documents about Python's history and features.\",\n  \"mode\": \"grounded_rag\",\n  \"document_ids\": [\"doc-id-1\", \"doc-id-2\"],\n  \"title\": \"Multi-Document Analysis\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/conversations",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations"]
						},
						"description": "Create RAG conversation with multiple documents (replace doc IDs with actual ones)"
					},
					"response": []
				},
				{
					"name": "Paginated Conversations",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/conversations?user_id={{user_id}}&page=1&page_size=5",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "conversations"],
							"query": [
								{
									"key": "user_id",
									"value": "{{user_id}}"
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number (1-indexed)"
								},
								{
									"key": "page_size",
									"value": "5",
									"description": "Items per page"
								}
							]
						},
						"description": "Get conversations with custom pagination"
					},
					"response": []
				}
			],
			"description": "Advanced usage examples"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "conversation_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "rag_conversation_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "document_id",
			"value": "",
			"type": "string"
		}
	]
}

